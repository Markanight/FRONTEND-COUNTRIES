{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Valeria\\\\Downloads\\\\PI-Countries-main\\\\PI-Countries-main\\\\client\\\\src\\\\components\\\\Home\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Card from '../Card/Card.jsx';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { getCountries, getFilterAlphabet, getFilterContinent, getFilterPopulation } from '../../actions';\nimport './Home.css';\nimport Navbar from '../Navbar/Navbar.jsx';\nimport Paginado from '../Paginado.jsx/Paginado.jsx';\nimport Loader from '../Loader/Loader.jsx';\nimport SearchBar from '../SearchBar/SearchBar.jsx';\nimport Filters from '../Filters/Filters.jsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n  const [, setOrder] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const dispatch = useDispatch();\n  const allCountries = useSelector(state => state.countries);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [countriesPerPage, setCountriesPerPage] = useState(10);\n  const indexOfLastCountry = currentPage === 1 ? 9 : currentPage * countriesPerPage;\n  const indexOfFirstCountry = currentPage === 1 ? 0 : indexOfLastCountry - countriesPerPage;\n  const currentCountries = allCountries.slice(indexOfFirstCountry, indexOfLastCountry);\n  const handleNextClick = e => {\n    e.preventDefault();\n    if (currentCountries.length === 0) {\n      setCurrentPage(currentPage);\n    } else {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n\n  // const handleNext = (e) => {\n  //     e.preventDefault()\n  //     while (currentCountries.length > 0) {\n  //         setCurrentPage(currentPage + 1)\n  //     }\n  // }\n\n  const handlePrevClick = e => {\n    e.preventDefault();\n    if (currentPage === 1) {\n      setCurrentPage(currentPage);\n    } else {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n  const paginado = pageNumber => {\n    setCurrentPage(pageNumber);\n  };\n  useEffect(() => {\n    setIsLoading(true);\n    dispatch(getCountries());\n    setTimeout(() => {\n      setIsLoading(false);\n    }, 2200);\n  }, [dispatch]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 16\n    }, this);\n  }\n  const handleFilterAlphabetic = e => {\n    e.preventDefault();\n    dispatch(getFilterAlphabet(e.target.value));\n    setCurrentPage(1);\n    setOrder(`${e.target.value}`);\n  };\n  const handleFilterPopulation = e => {\n    dispatch(getFilterPopulation(e.target.value));\n    setCurrentPage(1);\n    setOrder(`${e.target.value}`);\n  };\n  const handleFilterContinent = e => {\n    dispatch(getFilterContinent(e.target.value));\n    setCurrentPage(1);\n    setOrder(`${e.target.value}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seanav\",\n      children: [/*#__PURE__*/_jsxDEV(Filters, {\n        handleFilterAlphabetic: handleFilterAlphabetic,\n        handleFilterPopulation: handleFilterPopulation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(SearchBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"countriesGrid\",\n      children: currentCountries === null || currentCountries === void 0 ? void 0 : currentCountries.map(country => {\n        return /*#__PURE__*/_jsxDEV(Card, {\n          country: country\n        }, country.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Paginado, {\n      currentPage: currentPage,\n      handlePrevClick: handlePrevClick,\n      handleNextClick: handleNextClick,\n      countriesPerPage: countriesPerPage,\n      allCountries: allCountries.length,\n      paginado: paginado\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"k8yua71/EfJjAYTaIkj+HTy3oIE=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","Card","useDispatch","useSelector","useEffect","getCountries","getFilterAlphabet","getFilterContinent","getFilterPopulation","Navbar","Paginado","Loader","SearchBar","Filters","Home","setOrder","isLoading","setIsLoading","dispatch","allCountries","state","countries","currentPage","setCurrentPage","countriesPerPage","setCountriesPerPage","indexOfLastCountry","indexOfFirstCountry","currentCountries","slice","handleNextClick","e","preventDefault","length","handlePrevClick","paginado","pageNumber","setTimeout","handleFilterAlphabetic","target","value","handleFilterPopulation","handleFilterContinent","map","country","id"],"sources":["C:/Users/Valeria/Downloads/PI-Countries-main/PI-Countries-main/client/src/components/Home/Home.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport Card from '../Card/Card.jsx'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { useEffect } from 'react'\r\nimport { getCountries, getFilterAlphabet, getFilterContinent, getFilterPopulation } from '../../actions'\r\nimport './Home.css'\r\nimport Navbar from '../Navbar/Navbar.jsx'\r\nimport Paginado from '../Paginado.jsx/Paginado.jsx'\r\nimport Loader from '../Loader/Loader.jsx'\r\nimport SearchBar from '../SearchBar/SearchBar.jsx'\r\nimport Filters from '../Filters/Filters.jsx'\r\n\r\nexport default function Home() {\r\n    const [, setOrder] = useState('')\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const dispatch = useDispatch()\r\n    const allCountries = useSelector((state) => state.countries)\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n    const [countriesPerPage, setCountriesPerPage] = useState(10)\r\n    const indexOfLastCountry = currentPage === 1 ? 9 : currentPage * countriesPerPage\r\n    const indexOfFirstCountry = currentPage === 1 ? 0 : indexOfLastCountry - countriesPerPage\r\n    const currentCountries = allCountries.slice(indexOfFirstCountry, indexOfLastCountry)\r\n    \r\n    const handleNextClick = (e) => {\r\n        e.preventDefault();\r\n        if(currentCountries.length === 0) {\r\n            setCurrentPage(currentPage)\r\n        } else {\r\n            setCurrentPage(currentPage+1)\r\n        }\r\n        \r\n    }\r\n\r\n    // const handleNext = (e) => {\r\n    //     e.preventDefault()\r\n    //     while (currentCountries.length > 0) {\r\n    //         setCurrentPage(currentPage + 1)\r\n    //     }\r\n    // }\r\n\r\n    const handlePrevClick = (e) => {\r\n        e.preventDefault();\r\n        if(currentPage === 1){\r\n            setCurrentPage(currentPage)\r\n        } else {\r\n            setCurrentPage(currentPage-1)\r\n        }\r\n        \r\n    }\r\n    const paginado = (pageNumber) => {\r\n        setCurrentPage(pageNumber)\r\n    }\r\n\r\n    useEffect( ()=>{\r\n        setIsLoading(true);        \r\n             dispatch(getCountries())       \r\n        setTimeout(() => {\r\n           setIsLoading(false) \r\n        }, 2200);\r\n        \r\n    }, [dispatch])\r\n\r\n    if(isLoading){\r\n        return <Loader/>\r\n    }\r\n    \r\n    \r\n    const handleFilterAlphabetic = (e)=>{\r\n        e.preventDefault()\r\n        dispatch(getFilterAlphabet(e.target.value))\r\n        setCurrentPage(1)\r\n        setOrder(`${e.target.value}`)\r\n    }\r\n    const handleFilterPopulation = (e) => {\r\n        dispatch(getFilterPopulation(e.target.value))\r\n        setCurrentPage(1)\r\n        setOrder(`${e.target.value}`)\r\n    }  \r\n    const handleFilterContinent = (e) => {\r\n        dispatch(getFilterContinent(e.target.value))\r\n        setCurrentPage(1)\r\n        setOrder(`${e.target.value}`)\r\n    }\r\n    \r\n    \r\n \r\n\r\n  return (\r\n    <div>\r\n            <Navbar/>\r\n        <div className='seanav'>\r\n            <Filters handleFilterAlphabetic={handleFilterAlphabetic} handleFilterPopulation={handleFilterPopulation}/>\r\n            <SearchBar/>  \r\n        </div>\r\n       \r\n        <ul className='countriesGrid'>\r\n            {\r\n                currentCountries?.map((country)=>{\r\n                    return (\r\n                        <Card country={country} key={country.id}/>\r\n                    );\r\n                })\r\n            }\r\n        </ul>\r\n        <Paginado\r\n            currentPage = {currentPage}\r\n            handlePrevClick = {handlePrevClick}\r\n            handleNextClick = {handleNextClick}\r\n            countriesPerPage = {countriesPerPage}\r\n            allCountries = {allCountries.length}\r\n            paginado = {paginado}\r\n            />\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,IAAI,MAAM,kBAAkB;AACnC,SAAQC,WAAW,EAAEC,WAAW,QAAO,aAAa;AACpD,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,YAAY,EAAEC,iBAAiB,EAAEC,kBAAkB,EAAEC,mBAAmB,QAAQ,eAAe;AACxG,OAAO,YAAY;AACnB,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,QAAQ,MAAM,8BAA8B;AACnD,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,SAAS,MAAM,4BAA4B;AAClD,OAAOC,OAAO,MAAM,wBAAwB;AAAA;AAE5C,eAAe,SAASC,IAAI,GAAG;EAAA;EAC3B,MAAM,GAAGC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACjC,MAAM,CAACgB,SAAS,EAAEC,YAAY,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAMkB,QAAQ,GAAGhB,WAAW,EAAE;EAC9B,MAAMiB,YAAY,GAAGhB,WAAW,CAAEiB,KAAK,IAAKA,KAAK,CAACC,SAAS,CAAC;EAC5D,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGvB,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAACwB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM0B,kBAAkB,GAAGJ,WAAW,KAAK,CAAC,GAAG,CAAC,GAAGA,WAAW,GAAGE,gBAAgB;EACjF,MAAMG,mBAAmB,GAAGL,WAAW,KAAK,CAAC,GAAG,CAAC,GAAGI,kBAAkB,GAAGF,gBAAgB;EACzF,MAAMI,gBAAgB,GAAGT,YAAY,CAACU,KAAK,CAACF,mBAAmB,EAAED,kBAAkB,CAAC;EAEpF,MAAMI,eAAe,GAAIC,CAAC,IAAK;IAC3BA,CAAC,CAACC,cAAc,EAAE;IAClB,IAAGJ,gBAAgB,CAACK,MAAM,KAAK,CAAC,EAAE;MAC9BV,cAAc,CAACD,WAAW,CAAC;IAC/B,CAAC,MAAM;MACHC,cAAc,CAACD,WAAW,GAAC,CAAC,CAAC;IACjC;EAEJ,CAAC;;EAED;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAMY,eAAe,GAAIH,CAAC,IAAK;IAC3BA,CAAC,CAACC,cAAc,EAAE;IAClB,IAAGV,WAAW,KAAK,CAAC,EAAC;MACjBC,cAAc,CAACD,WAAW,CAAC;IAC/B,CAAC,MAAM;MACHC,cAAc,CAACD,WAAW,GAAC,CAAC,CAAC;IACjC;EAEJ,CAAC;EACD,MAAMa,QAAQ,GAAIC,UAAU,IAAK;IAC7Bb,cAAc,CAACa,UAAU,CAAC;EAC9B,CAAC;EAEDhC,SAAS,CAAE,MAAI;IACXa,YAAY,CAAC,IAAI,CAAC;IACbC,QAAQ,CAACb,YAAY,EAAE,CAAC;IAC7BgC,UAAU,CAAC,MAAM;MACdpB,YAAY,CAAC,KAAK,CAAC;IACtB,CAAC,EAAE,IAAI,CAAC;EAEZ,CAAC,EAAE,CAACC,QAAQ,CAAC,CAAC;EAEd,IAAGF,SAAS,EAAC;IACT,oBAAO,QAAC,MAAM;MAAA;MAAA;MAAA;IAAA,QAAE;EACpB;EAGA,MAAMsB,sBAAsB,GAAIP,CAAC,IAAG;IAChCA,CAAC,CAACC,cAAc,EAAE;IAClBd,QAAQ,CAACZ,iBAAiB,CAACyB,CAAC,CAACQ,MAAM,CAACC,KAAK,CAAC,CAAC;IAC3CjB,cAAc,CAAC,CAAC,CAAC;IACjBR,QAAQ,CAAE,GAAEgB,CAAC,CAACQ,MAAM,CAACC,KAAM,EAAC,CAAC;EACjC,CAAC;EACD,MAAMC,sBAAsB,GAAIV,CAAC,IAAK;IAClCb,QAAQ,CAACV,mBAAmB,CAACuB,CAAC,CAACQ,MAAM,CAACC,KAAK,CAAC,CAAC;IAC7CjB,cAAc,CAAC,CAAC,CAAC;IACjBR,QAAQ,CAAE,GAAEgB,CAAC,CAACQ,MAAM,CAACC,KAAM,EAAC,CAAC;EACjC,CAAC;EACD,MAAME,qBAAqB,GAAIX,CAAC,IAAK;IACjCb,QAAQ,CAACX,kBAAkB,CAACwB,CAAC,CAACQ,MAAM,CAACC,KAAK,CAAC,CAAC;IAC5CjB,cAAc,CAAC,CAAC,CAAC;IACjBR,QAAQ,CAAE,GAAEgB,CAAC,CAACQ,MAAM,CAACC,KAAM,EAAC,CAAC;EACjC,CAAC;EAKH,oBACE;IAAA,wBACQ,QAAC,MAAM;MAAA;MAAA;MAAA;IAAA,QAAE,eACb;MAAK,SAAS,EAAC,QAAQ;MAAA,wBACnB,QAAC,OAAO;QAAC,sBAAsB,EAAEF,sBAAuB;QAAC,sBAAsB,EAAEG;MAAuB;QAAA;QAAA;QAAA;MAAA,QAAE,eAC1G,QAAC,SAAS;QAAA;QAAA;QAAA;MAAA,QAAE;IAAA;MAAA;MAAA;MAAA;IAAA,QACV,eAEN;MAAI,SAAS,EAAC,eAAe;MAAA,UAErBb,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAEe,GAAG,CAAEC,OAAO,IAAG;QAC7B,oBACI,QAAC,IAAI;UAAC,OAAO,EAAEA;QAAQ,GAAMA,OAAO,CAACC,EAAE;UAAA;UAAA;UAAA;QAAA,QAAG;MAElD,CAAC;IAAC;MAAA;MAAA;MAAA;IAAA,QAEL,eACL,QAAC,QAAQ;MACL,WAAW,EAAIvB,WAAY;MAC3B,eAAe,EAAIY,eAAgB;MACnC,eAAe,EAAIJ,eAAgB;MACnC,gBAAgB,EAAIN,gBAAiB;MACrC,YAAY,EAAIL,YAAY,CAACc,MAAO;MACpC,QAAQ,EAAIE;IAAS;MAAA;MAAA;MAAA;IAAA,QACnB;EAAA;IAAA;IAAA;IAAA;EAAA,QACJ;AAEV;AAAC,GAtGuBrB,IAAI;EAAA,QAGPZ,WAAW,EACPC,WAAW;AAAA;AAAA,KAJZW,IAAI;AAAA;AAAA"},"metadata":{},"sourceType":"module"}